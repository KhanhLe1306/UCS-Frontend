<app-modal *ngIf="modalService.showModal != false"></app-modal>

<div class="navv">
  <div class="logo">
      <span>PKI</span> Classroom Scheduler
  </div>
  <button id="goHome" type="button" class="btn btn-success" [routerLink]="'/results'">
      Home
  </button>
  <button id="about" type="button" class="btn btn-success" [routerLink]="'/about'">
      About
  </button>
  <button id="about" type="button" class="btn btn-success" [routerLink]="'/dashboard'">
    Other Options
  </button>
</div>

<div class="results-main">
  <div class="form-div">
    <form class="results-form" (ngSubmit)="onSubmit()" [formGroup]="searchForm">
      <div class="resultsForm">
        <div class="header">
          View Room or Instructor Schedule
        </div>
        <div class="dashSearch">
          <input type="text" class="dashSearch-control" id="dashSearch" formControlName="inputValue"
            placeholder="Enter Room Number or Instructor" v />
          <button id="searchButton" type="submit" class="btn btn-search">
            Search
          </button>
        </div>
      </div>
    </form>
  </div>
  
  <ng-container *ngIf="roomSchedule">
    <div class="schedule">
      <div class="time-col">
        <div class="col_title">TIME</div>
        <div class="col_schedule">
          <ng-container *ngFor="let i of timesUpdated">
            <div class="time-item" style="height: 52.5px; margin: 0px">{{ i }}</div>
          </ng-container>
        </div>
      </div>
      <div class="col">
        <div class="col_title">MON</div>
        <div class="col_schedule">
          <ng-container *ngFor="let i of roomSchedule">
            <ng-container *ngIf="i.meetingDays.includes('Monday')">
              <div (click)="showModal(i)" class="class_info" [style.background-color]="i.color"
                [style.marginTop.px]="i.priorCourseInfo['Monday']['marginSize']" [style.marginBottom.px]="0"
                [style.height.px]="i.priorCourseInfo['Monday']['height']">
                <div class="course__title">
                  <div class="course">{{ i.course }}</div>
                  <ng-container *ngIf="i.crossListedWith != null">
                    <div>{{ i.crossListedWith }}</div>
                  </ng-container>
                </div>
                <div>{{ i.courseTitle }}</div>
                <div>{{ i.startTime }} - {{ i.endTime }}</div>
                <div>{{ i.instructor }}</div>
              </div>
            </ng-container>
          </ng-container>
        </div>
      </div>
      <div class="col">
        <div class="col_title">TUE</div>
        <div class="col_schedule">
          <ng-container *ngFor="let i of roomSchedule">
            <ng-container *ngIf="i.meetingDays.includes('Tuesday')">
              <div (click)="showModal(i)" class="class_info" [style.background-color]="i.color"
                [style.marginTop.px]="i.priorCourseInfo['Tuesday']['marginSize']" [style.marginBottom.px]="0"
                [style.height.px]="i.priorCourseInfo['Tuesday']['height']">
                <div class="course__title">
                  <div>{{ i.course }}</div>
                  <ng-container *ngIf="i.crossListedWith != null">
                    <div>{{ i.crossListedWith }}</div>
                  </ng-container>
                </div>
                <div>{{ i.courseTitle }}</div>
                <div>{{ i.startTime }} - {{ i.endTime }}</div>
                <div>{{ i.instructor }}</div>
              </div>
            </ng-container>
          </ng-container>
        </div>
      </div>
      <div class="col">
        <div class="col_title">WED</div>
        <div class="col_schedule">
          <ng-container *ngFor="let i of roomSchedule">
            <ng-container *ngIf="i.meetingDays.includes('Wednesday')">
              <div (click)="showModal(i)" class="class_info" [style.background-color]="i.color"
                [style.marginTop.px]="i.priorCourseInfo['Wednesday']['marginSize']" [style.marginBottom.px]="0"
                [style.height.px]="i.priorCourseInfo['Wednesday']['height']">
                <div class="course__title">
                  <div>{{ i.course }}</div>
                  <ng-container *ngIf="i.crossListedWith != null">
                    <div>{{ i.crossListedWith }}</div>
                  </ng-container>
                </div>
                <div>{{ i.courseTitle }}</div>
                <div>{{ i.startTime }} - {{ i.endTime }}</div>
                <div>{{ i.instructor }}</div>
              </div>
            </ng-container>
          </ng-container>
        </div>
      </div>
      <div class="col">
        <div class="col_title">THU</div>
        <div class="col_schedule">
          <ng-container *ngFor="let i of roomSchedule">
            <ng-container *ngIf="i.meetingDays.includes('Thursday')">
              <div (click)="showModal(i)" class="class_info" [style.background-color]="i.color"
                [style.marginTop.px]="i.priorCourseInfo['Thursday']['marginSize']" [style.marginBottom.px]="0"
                [style.height.px]="i.priorCourseInfo['Thursday']['height']">
                <div class="course__title">
                  <div>{{ i.course }}</div>
                  <ng-container *ngIf="i.crossListedWith != null">
                    <div>{{ i.crossListedWith }}</div>
                  </ng-container>
                </div>
                <div>{{ i.courseTitle }}</div>
                <div>{{ i.startTime }} - {{ i.endTime }}</div>
                <div>{{ i.instructor }}</div>
              </div>
            </ng-container>
          </ng-container>
        </div>
      </div>
      <div class="col">
        <div class="col_title">FRI</div>
        <div class="col_schedule">
          <ng-container *ngFor="let i of roomSchedule">
            <ng-container *ngIf="i.meetingDays.includes('Friday')">
              <div (click)="showModal(i)" class="class_info" [style.background-color]="i.color"
                [style.marginTop.px]="i.priorCourseInfo['Friday']['marginSize']" [style.marginBottom.px]="0"
                [style.height.px]="i.priorCourseInfo['Friday']['height']">
                <div class="course__title">
                  <div>{{ i.course }}</div>
                  <ng-container *ngIf="i.crossListedWith != null">
                    <div>{{ i.crossListedWith }}</div>
                  </ng-container>
                </div>
                <div>{{ i.courseTitle }}</div>
                <div>{{ i.startTime }} - {{ i.endTime }}</div>
                <div>{{ i.instructor }}</div>
              </div>
            </ng-container>
          </ng-container>
        </div>
      </div>
    </div>
  </ng-container>
  <div class="other-options">
    <div>
      <button id="addClass" type="button" class="btn btn-success" [routerLink]="'/addClass'">
        Add Class
      </button>
    </div>
    <div>
      <button id="addInstructor" type="button" class="btn btn-success" [routerLink]="'/addInstructor'">
        Add Instructor
      </button>
    </div>
    <div>
      <button id="removeClass" type="button" class="btn btn-success" [routerLink]="'/removeClass'">
        Remove Class
      </button>
    </div>
  </div>

</div>
